{"ast":null,"code":"import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './core-85189c77.js';\nimport { i as initBasics, d as destroyBasics } from './commonComponentFeatures-b771e888.js';\nconst MenuEntity = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Specify if the selection modal is shown\n     */\n\n    this.modalOpen = false;\n    /**\n     * The design version of the framework\n     */\n\n    this.designVersion = null;\n    /**\n     * Specify if it will render the positive or negative variant of the side menu\n     */\n\n    this.variant = 'negative';\n    /**\n     * Specify if it will render in rtl mode\n     */\n\n    this.rtl = false;\n    /**\n     * define the state of the menu default/collapsed\n     */\n\n    this.collapsed = false;\n    /**\n     * define the entity name that it will be shown\n     */\n\n    this.entityName = 'Entity Name';\n    /**\n     * define the entity id that it will be shown\n     */\n\n    this.entityId = '#EntityId';\n    /**\n     * Title for the selection modal\n     */\n\n    this.modalTitle = 'Legal Entity';\n    /**\n     * Choose label for entity selection modal\n     */\n\n    this.modalLabelChoose = 'Choose One';\n    /**\n     * Choose label for entity filtering placeholder\n     */\n\n    this.modalLabelFilter = 'Filter Entities';\n    /**\n     * Apply selection label for selection modal\n     */\n\n    this.modalLabelApply = 'Apply';\n    /**\n     * Label for the header when there are no results amongst the entities\n     */\n\n    this.modalLabelEmptyHeader = 'No legal entities match your query';\n    /**\n     * Label for the message when there are no results amongst the entities\n     */\n\n    this.modalLabelEmptyMessage = 'Change the filtering parameter to match other results.';\n    /**\n     * Cancel selection label for selection modal\n     */\n\n    this.modalLabelCancel = 'Cancel';\n\n    this.filterEntities = e => {\n      // lets find all of the entities\n      const items = this.host.querySelectorAll('cwc-entity-selector-item'); // let's count how many entities there are\n\n      const itemsLength = items.length; // get the filtering string\n\n      const needle = e.detail.toLowerCase(); // lets count how many we have hidden already\n\n      let hiddenCount = 0; // let's find the empty message\n      // let's loop through the items to show/hide depending on the filtering string\n\n      items.forEach(item => {\n        // haystack is both entity name and entity id\n        const entityName = item.getAttribute('entity-name');\n        const entityId = item.getAttribute('entity-id');\n\n        if (entityName && entityId) {\n          const haystack = entityName.toLowerCase() + entityId.toLowerCase();\n\n          if (haystack.indexOf(needle) > -1) {\n            item.style.display = '';\n          } else {\n            item.style.display = 'none';\n            hiddenCount++;\n          }\n        }\n      }); // display empty results message\n\n      this.emptyMessageElement.style.display = hiddenCount === itemsLength ? 'block' : 'none'; // dispatch a window resize event so that modal rearranges.\n\n      const resizeEvent = window.document.createEvent('UIEvents');\n      resizeEvent.initUIEvent('resize', true, false, window, 0);\n      window.dispatchEvent(resizeEvent);\n    };\n\n    this.openModal = () => {\n      this.modalOpen = true;\n    };\n\n    this.closeModal = () => {\n      this.modalOpen = false;\n      this.opener.focus();\n    };\n\n    this.entitySelectedEvent = createEvent(this, \"cwcEntityChanged\", 7);\n  }\n  /**\n   * Triggered when entity is is selected. Event emitted in cwc-entity-selector-item\n   * @param event Event details\n   */\n\n\n  optionSelectedHandler(event) {\n    // set adequate entity\n    this.entityName = event.detail.entityName;\n    this.entityId = event.detail.entityId; // deactivate active entity within entity list\n\n    this.host.querySelector('.active').classList.remove('active'); // activate adequate entity within the entity list\n\n    this.host.querySelector('[entity-id=\"' + event.detail.entityId + '\"]').classList.add('active'); // reset input\n\n    this.filterInput.writeValue(''); // hide modal\n\n    this.closeModal(); // emit entity change event\n\n    this.entitySelectedEvent.emit({\n      entityName: this.entityName,\n      entityId: this.entityId\n    });\n  }\n\n  componentWillLoad() {\n    initBasics(this);\n  }\n\n  disconnectedCallback() {\n    destroyBasics(this);\n  }\n\n  render() {\n    return h(Host, {\n      class: this.modalOpen && ' cwc-entity-selector--modal-open'\n    }, h(\"div\", {\n      class: `cwc-entity-selector ${this.designVersion} ${this.collapsed && 'collapsed'} ${this.variant && ' cwc-entity-selector--' + this.variant}`,\n      ref: el => this.opener = el,\n      role: \"button\",\n      tabindex: \"0\",\n      onClick: this.openModal\n    }, h(\"div\", {\n      class: \"cwc-entity-selector__icon\"\n    }), h(\"div\", {\n      class: \"cwc-entity-selector__label\"\n    }, h(\"div\", {\n      class: \"cwc-entity-selector__name\"\n    }, this.entityName), h(\"div\", {\n      class: \"cwc-entity-selector__id\"\n    }, this.entityId))), h(\"cwc-modal\", {\n      overlayZIndex: \"9999\",\n      class: \"cwc-entity-selector__modal\",\n      open: this.modalOpen,\n      onCwcClose: this.closeModal,\n      designVersion: this.designVersion\n    }, h(\"div\", {\n      class: \"cwc-entity-selector__modal-header\",\n      slot: \"header\"\n    }, h(\"h2\", {\n      class: \"cwc-entity-selector__modal-title\"\n    }, this.modalTitle), h(\"p\", {\n      class: \"cwc-entity-selector__modal-description\"\n    }, this.modalLabelChoose), h(\"cwc-input\", {\n      class: \"cwc-entity-selector__modal-filter\",\n      ref: el => this.filterInput = el,\n      unwrap: true,\n      \"trailing-icon\": \"magnifier-glass\",\n      placeholder: this.modalLabelFilter,\n      onCwcChange: this.filterEntities,\n      designVersion: this.designVersion\n    })), h(\"div\", {\n      class: \"cwc-entity-selector__modal-grid\"\n    }, h(\"slot\", null)), h(\"cwc-empty-result\", {\n      variant: \"flat\",\n      icon: \"information-rounded-fill\",\n      ref: el => this.emptyMessageElement = el,\n      style: {\n        display: 'none'\n      },\n      header: this.modalLabelEmptyHeader,\n      designVersion: this.designVersion\n    }, this.modalLabelEmptyMessage)));\n  }\n\n  get host() {\n    return getElement(this);\n  }\n\n  static get style() {\n    return \"*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}cwc-entity-selector{display:block}.cwc-entity-selector{-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;border-bottom:1px solid var(--cwc-entity-selector-border-color,var(--cwc-color-elements-table-row-active,#cce4f8));background:transparent;font-family:inherit;color:var(--cwc-entity-selector-color,var(--cwc-color-grayscale-white,#fff));text-align:initial;cursor:pointer}.cwc-entity-selector:focus{outline:none}.cwc-entity-selector__icon{background-image:url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGZpbHRlciB4PSIwJSIgeT0iMCUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMy4zJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iYSI+PGZlT2Zmc2V0IGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiLz48ZmVNZXJnZT48ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSIvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PHBhdGggZD0iTTAgMGg4djE4LjRIMFYwem0xLjYgMS42djEuNmgxLjZWMS42SDEuNnptMCAzLjJ2MS42aDEuNlY0LjhIMS42em0zLjItMy4ydjEuNmgxLjZWMS42SDQuOHptMCAzLjJ2MS42aDEuNlY0LjhINC44ek0xLjYgOHYxLjZoMS42VjhIMS42em0zLjIgMHYxLjZoMS42VjhINC44em0tMy4yIDMuMnYxLjZoMS42di0xLjZIMS42em0zLjIgMHYxLjZoMS42di0xLjZINC44em0tMy4yIDMuMlYxNmgxLjZ2LTEuNkgxLjZ6bTMuMiAwVjE2aDEuNnYtMS42SDQuOHptNC04SDIwdjEySDguOHYtMTJ6TTEzLjYgOHYxLjZoMS42VjhoLTEuNnptLTMuMiAwdjEuNkgxMlY4aC0xLjZ6bTAgMy4ydjEuNkgxMnYtMS42aC0xLjZ6bTAgMy4yVjE2SDEydi0xLjZoLTEuNnptMy4yLTMuMnYxLjZoMS42di0xLjZoLTEuNnpNMTYuOCA4djEuNmgxLjZWOGgtMS42em0wIDMuMnYxLjZoMS42di0xLjZoLTEuNnptLTMuMiAzLjJWMTZoMS42di0xLjZoLTEuNnptMy4yIDBWMTZoMS42di0xLjZoLTEuNnoiIGZpbHRlcj0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuNikiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==\\\");background-repeat:no-repeat;background-position:50%;width:52px;height:52px;-ms-flex:0 0 auto;flex:0 0 auto}[dir=ltr] .cwc-entity-selector__label{padding-left:0}[dir=rtl] .cwc-entity-selector__label{padding-right:0}[dir=ltr] .cwc-entity-selector__label{padding-right:.5rem}[dir=rtl] .cwc-entity-selector__label{padding-left:.5rem}.cwc-entity-selector__label{padding-top:.5rem;padding-bottom:.5rem;padding-block:.5rem;-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:.5rem;padding-inline-end:.5rem;-ms-flex:1 1 auto;flex:1 1 auto}.cwc-entity-selector__name{font-size:.875rem;font-weight:500}.cwc-entity-selector__id{font-size:.625rem;font-weight:300}.cwc-entity-selector--positive.cwc-entity-selector{color:var(--cwc-entity-selector-positive-color,var(--cwc-color-grayscale-medium,#666));border-bottom:1px solid var(--cwc-color-grayscale-lightish,#b0b0b0)}.cwc-entity-selector--positive .cwc-entity-selector__icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2220%22%20height%3D%2219%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cdefs%3E%3Cfilter%20x%3D%220%25%22%20y%3D%220%25%22%20width%3D%22100%25%22%20height%3D%22103.3%25%22%20filterUnits%3D%22objectBoundingBox%22%20id%3D%22a%22%3E%3CfeOffset%20in%3D%22SourceAlpha%22%20result%3D%22shadowOffsetOuter1%22%2F%3E%3CfeColorMatrix%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%22%20in%3D%22shadowOffsetOuter1%22%20result%3D%22shadowMatrixOuter1%22%2F%3E%3CfeMerge%3E%3CfeMergeNode%20in%3D%22shadowMatrixOuter1%22%2F%3E%3CfeMergeNode%20in%3D%22SourceGraphic%22%2F%3E%3C%2FfeMerge%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cpath%20d%3D%22M0%200h8v18.4H0V0zm1.6%201.6v1.6h1.6V1.6H1.6zm0%203.2v1.6h1.6V4.8H1.6zm3.2-3.2v1.6h1.6V1.6H4.8zm0%203.2v1.6h1.6V4.8H4.8zM1.6%208v1.6h1.6V8H1.6zm3.2%200v1.6h1.6V8H4.8zm-3.2%203.2v1.6h1.6v-1.6H1.6zm3.2%200v1.6h1.6v-1.6H4.8zm-3.2%203.2V16h1.6v-1.6H1.6zm3.2%200V16h1.6v-1.6H4.8zm4-8H20v12H8.8v-12zM13.6%208v1.6h1.6V8h-1.6zm-3.2%200v1.6H12V8h-1.6zm0%203.2v1.6H12v-1.6h-1.6zm0%203.2V16H12v-1.6h-1.6zm3.2-3.2v1.6h1.6v-1.6h-1.6zM16.8%208v1.6h1.6V8h-1.6zm0%203.2v1.6h1.6v-1.6h-1.6zm-3.2%203.2V16h1.6v-1.6h-1.6zm3.2%200V16h1.6v-1.6h-1.6z%22%20filter%3D%22url%28%23a%29%22%20transform%3D%22translate%280%20.6%29%22%20fill%3D%22%23666%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E\\\")}.cwc-entity-selector__modal{color:var(--cwc-entity-selector-modal-color,var(--cwc-color-grayscale-black,#000))}.cwc-entity-selector__modal-title{margin:0}.cwc-entity-selector__modal-description{margin-top:.375rem;margin-bottom:.75rem}.cwc-entity-selector__modal-filter{width:100%}.cwc-entity-selector__modal-grid{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;margin-top:.75rem;margin-bottom:.75rem;-webkit-box-sizing:border-box;box-sizing:border-box}[dir=ltr] .cwc-entity-selector__modal-footer{text-align:right}[dir=rtl] .cwc-entity-selector__modal-footer{text-align:left}.cwc-entity-selector__modal-footer{text-align:end}[dir=ltr] .cwc-entity-selector__modal-cancel{margin-right:1rem}[dir=rtl] .cwc-entity-selector__modal-cancel{margin-left:1rem}.cwc-entity-selector__modal-cancel{-webkit-margin-end:1rem;margin-inline-end:1rem}.cwc-entity-selector[dir=rtl]{font-family:inherit}\\@media (min-width:768px){.cwc-entity-selector.collapsed{height:52px;-webkit-box-sizing:border-box;box-sizing:border-box}.cwc-entity-selector.collapsed .cwc-entity-selector__label{display:none}}\\@media (max-width:767px){[dir=ltr] cwc-entity-selector.cwc-entity-selector--modal-open{left:0}[dir=rtl] cwc-entity-selector.cwc-entity-selector--modal-open{right:0}cwc-entity-selector.cwc-entity-selector--modal-open{position:fixed;bottom:0;inset-inline-start:0;width:100vw;height:100vh;z-index:9999;-webkit-transform:translate(0);transform:translate(0)}}\";\n  }\n\n};\nexport { MenuEntity as cwc_entity_selector };","map":null,"metadata":{},"sourceType":"module"}