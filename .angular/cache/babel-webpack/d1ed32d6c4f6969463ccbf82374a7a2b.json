{"ast":null,"code":"import _asyncToGenerator from \"D:/Equipo_7_Los_Mandilones/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './core-85189c77.js';\nimport { i as initBasics, d as destroyBasics } from './commonComponentFeatures-b771e888.js';\nconst Chatbot = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Open Internal State of the chatbot\n     */\n\n    this.open = false;\n    /**\n     * The design version of the framework\n     */\n\n    this.designVersion = null;\n    /**\n     * Display text right-to-left if true\n     */\n\n    this.rtl = false;\n    /**\n     * If popup should be displayed\n     */\n\n    this.showPopup = true;\n    /**\n     * Time before popup disappears\n     */\n\n    this.popupTimeout = 7000;\n    /**\n     * Small screens detection\n     */\n\n    this.responsive = false;\n\n    this.loadChat = () => {\n      // load scripts\n      this.aivoScript = document.createElement('script');\n      this.aivoScript.type = 'text/javascript';\n      this.aivoScript.src = this.scriptSrc;\n\n      this.aivoScript.onload = () => {\n        window.$aivo.ready(() => {\n          // remove native launcher and show dock when chat window closed\n          window.$aivo.launcher.remove();\n          window.$aivo.chat.onCloseWindow(() => {\n            this.hideLauncher();\n            this.open = false;\n          });\n          window.$aivo.chat.onMinimizeWindow(() => {\n            this.open = false;\n            this.bodyTag.classList.add('cwc-chatbot--closed');\n          }); // Setting user data\n\n          window.$aivo.user.new();\n          window.$aivo.user.set('countryName', this.countryName);\n          window.$aivo.user.set('jwt', this.jwt);\n          window.$aivo.user.set('fullName', this.fullName);\n          window.$aivo.user.set('userAccount', this.userAccount); // emit ready event\n\n          this.chatbotReady.emit();\n        });\n      };\n\n      this.aivoScript.onerror = error => {\n        console.error(error);\n        this.host.style.display = 'none';\n      };\n\n      document.getElementsByTagName('head')[0].appendChild(this.aivoScript); // append it to the body as last element\n      // document.querySelector('body').appendChild(this.host);\n    };\n\n    this.destroyChat = () => {\n      // remove the aivo script\n      if (this.aivoScript) {\n        this.aivoScript.parentNode.removeChild(this.aivoScript);\n      } // remove the chatbot element\n\n\n      const chatobotElement = document.querySelector('#AgentAppContainer');\n\n      if (chatobotElement) {\n        chatobotElement.parentNode.removeChild(chatobotElement);\n      } // remove aivo object\n\n\n      if (window.$aivo) {\n        delete window.$aivo;\n      }\n    };\n\n    this.hidePopup = () => {\n      if (!this.popup.classList.contains('hidden')) {\n        this.popup.classList.add('hidden');\n      }\n    };\n\n    this.chatbotReady = createEvent(this, \"chatbotReady\", 7);\n  }\n\n  chatbotReadyHandler() {\n    this.chatbotReady.emit();\n  }\n  /**\n   * Opens the Chat Window\n   */\n\n\n  openChat() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      window.$aivo.chat.open();\n\n      _this.hidePopup();\n\n      _this.open = true;\n\n      _this.bodyTag.classList.remove('cwc-chatbot--closed');\n    })();\n  }\n  /**\n   * Minimizes the chat window\n   */\n\n\n  minimizeChat() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.open = false;\n      window.$aivo.chat.minimize();\n    })();\n  }\n  /**\n   * Hides the chatbot launcher\n   */\n\n\n  hideLauncher() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.dock.classList.add('active');\n\n      _this3.floatContainer.classList.add('hidden');\n\n      _this3.hidePopup();\n\n      if (_this3.open) {\n        window.$aivo.chat.close();\n      }\n    })();\n  }\n  /**\n   * Shows the chatbot launcher\n   */\n\n\n  showLauncher() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.dock.classList.remove('active');\n\n      _this4.floatContainer.classList.remove('hidden');\n\n      _this4.hidePopup();\n    })();\n  }\n\n  componentWillLoad() {\n    initBasics(this);\n    this.bodyTag = document.querySelector('body');\n    this.bodyTag.classList.add('cwc-chatbot--closed');\n    const windowWidth = window.innerWidth;\n\n    if (windowWidth < 768) {\n      this.responsive = true;\n    }\n  }\n\n  componentWillRender() {\n    this.destroyChat();\n  }\n\n  componentDidLoad() {\n    if (this.showPopup) {\n      this.popup.classList.add('slide-in');\n      setTimeout(() => {\n        this.hidePopup();\n      }, this.popupTimeout);\n    }\n  }\n\n  componentDidRender() {\n    this.loadChat();\n  }\n\n  disconnectedCallback() {\n    this.destroyChat();\n    destroyBasics(this);\n  }\n\n  componentShouldUpdate(a, b, c) {\n    if (c === 'open') {\n      return false;\n    }\n\n    if (a && b) {\n      return true;\n    }\n  }\n\n  toggleChat() {\n    if (this.open) {\n      this.minimizeChat();\n    } else {\n      this.openChat();\n    }\n  }\n\n  render() {\n    const logo = h(\"svg\", {\n      version: \"1.1\",\n      id: \"Layer_1\",\n      x: \"0px\",\n      y: \"0px\",\n      viewBox: \"0 0 40 22\",\n      class: \"cwc-chatbot__logo\"\n    }, h(\"g\", {\n      id: \"Layer_1_1_\"\n    }), h(\"g\", null, h(\"path\", {\n      class: \"st0\",\n      d: \"M2.9,11L2.9,11c0-4.8,3.9-8.7,8.7-8.7h17.1c1.9,0.1,3.8,0.9,5.3,2c-1.5-2.1-4.1-3.6-6.9-3.6H10\\n\\t\\tc-4.8,0-8.7,3.9-8.7,8.7l0,0c0,0.5,0,1,0.1,1.5l0,0c0.4,2.3-0.6,4-1.3,4.8c-0.2,0.2,0,0.6,0.3,0.5C2,16,3.2,15.3,3.5,15.1\\n\\t\\tc0.3,0.4,0.7,0.7,1.1,1.1C3.6,14.8,2.9,13,2.9,11z\",\n      fill: \"#E22F3D\"\n    }), h(\"path\", {\n      class: \"st1\",\n      d: \"M39.9,19.1c-0.7-0.8-1.7-2.5-1.3-4.8l0,0c0.1-0.6,0.2-1.1,0.2-1.7l0,0c0-2.8-1.3-5.3-3.4-6.9\\n\\t\\tc1.1,1.5,1.8,3.3,1.8,5.3l0,0c0,4.8-3.9,8.7-8.7,8.7h-17c-2,0-3.8-0.7-5.3-1.8c1.6,2.1,4.1,3.4,6.9,3.4h17.1c2.5,0,4.7-1.1,6.3-2.7\\n\\t\\tl0,0c0,0,1.3,0.9,3.2,1.1C39.9,19.7,40.1,19.3,39.9,19.1z\",\n      fill: \"#3FA8F4\"\n    }), h(\"path\", {\n      class: \"st2\",\n      d: \"M28.5,2.3h-17c-4.8,0-8.7,3.9-8.7,8.7l0,0c0,4.8,3.9,8.7,8.7,8.7h17.1c4.8,0,8.7-3.9,8.7-8.7l0,0\\n\\t\\tC37.2,6.2,33.3,2.3,28.5,2.3z\",\n      fill: \"#013185\"\n    }), h(\"circle\", {\n      class: \"st3\",\n      cx: \"11.9\",\n      cy: \"11\",\n      r: \"2.6\",\n      fill: \"#FFFFFF\"\n    }), h(\"circle\", {\n      class: \"st3\",\n      cx: \"28.3\",\n      cy: \"11\",\n      r: \"2.6\",\n      fill: \"#FFFFFF\"\n    })));\n    return h(Host, {\n      class: this.designVersion\n    }, this.showPopup ? h(\"div\", {\n      class: 'cwc-chatbot__popup' + (this.responsive ? ' responsive' : ''),\n      ref: el => this.popup = el,\n      onClick: () => {\n        this.openChat();\n      },\n      dir: this.rtl ? 'rtl' : 'ltr'\n    }, h(\"span\", {\n      class: \"cwc-chatbot__popup-name\"\n    }, \"Olivia\"), h(\"span\", {\n      class: \"cwc-chatbot__popup-message\"\n    }, this.popupMessage)) : null, h(\"div\", {\n      class: 'cwc-chatbot__float-container' + (this.responsive ? ' hidden' : ''),\n      ref: el => this.floatContainer = el,\n      dir: this.rtl ? 'rtl' : 'ltr'\n    }, h(\"div\", {\n      class: \"cwc-chatbot__launcher\",\n      onClick: () => {\n        this.toggleChat();\n      }\n    }, logo), h(\"div\", {\n      class: \"cwc-chatbot__hide-button\",\n      onClick: () => {\n        this.hideLauncher();\n      }\n    }, h(\"cwc-icon\", {\n      designVersion: this.designVersion,\n      name: \"cross-cancel\",\n      size: \"10px\",\n      color: \"bright-blue\"\n    }))), h(\"div\", {\n      class: 'cwc-chatbot__dock' + (this.responsive ? ' active' : ''),\n      ref: el => this.dock = el,\n      onClick: () => {\n        this.showLauncher();\n      },\n      dir: this.rtl ? 'rtl' : 'ltr'\n    }, h(\"cwc-icon\", {\n      designVersion: this.designVersion,\n      name: \"straight-arrow-left\",\n      size: \"16px\",\n      color: \"bright-blue\"\n    })));\n  }\n\n  get host() {\n    return getElement(this);\n  }\n\n  static get style() {\n    return \"\\@charset \\\"UTF-8\\\";*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[dir=ltr] .cwc-chatbot__dock{right:0}[dir=rtl] .cwc-chatbot__dock{left:0}.cwc-chatbot__dock{position:fixed;bottom:80px;inset-inline-end:0;height:56px;width:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:var(--cwc-chatbot-background-color,var(--cwc-color-grayscale-white,#fff));border-radius:35%;opacity:0;pointer-events:none;-webkit-transition:all .5s;transition:all .5s;-webkit-box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-twenty,rgba(0,0,0,.2));box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-twenty,rgba(0,0,0,.2));cursor:pointer;line-height:1.5rem}.cwc-chatbot__dock.active{opacity:1;pointer-events:all;-webkit-transform:translateX(24px);transform:translateX(24px)}.cwc-chatbot__dock.active[dir=rtl]{-webkit-transform:translateX(-24px);transform:translateX(-24px)}.cwc-chatbot__hide-button,.cwc-chatbot__launcher{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--cwc-chatbot-button-background-color,var(--cwc-color-grayscale-white,#fff));-webkit-box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-twenty,rgba(0,0,0,.2));box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-twenty,rgba(0,0,0,.2));border-radius:50%;cursor:pointer}.cwc-chatbot__launcher{height:56px;width:56px}.cwc-chatbot__logo{height:22px;width:40px}[dir=ltr] .cwc-chatbot__hide-button{margin-left:-8px}[dir=rtl] .cwc-chatbot__hide-button{margin-right:-8px}.cwc-chatbot__hide-button{height:20px;width:20px;-webkit-margin-start:-8px;margin-inline-start:-8px;margin-top:-12px;line-height:1.25rem}[dir=ltr] .cwc-chatbot__float-container{right:24px}[dir=rtl] .cwc-chatbot__float-container{left:24px}.cwc-chatbot__float-container{opacity:1;-webkit-transition:all .5s;transition:all .5s;position:fixed;bottom:80px;inset-inline-end:24px;display:-ms-flexbox;display:flex}.cwc-chatbot__float-container.hidden{opacity:0;-webkit-transform:translateX(80px);transform:translateX(80px)}.cwc-chatbot__float-container.hidden[dir=rtl]{-webkit-transform:translateX(-80px);transform:translateX(-80px)}[dir=ltr] .cwc-chatbot__popup{right:104px}[dir=rtl] .cwc-chatbot__popup{left:104px}.cwc-chatbot__popup{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;bottom:94px;inset-inline-end:104px;min-height:32px;font-size:.75rem;padding:8px 16px;background:var(--cwc-chatbot-popup-background-color,var(--cwc-color-grayscale-white,#fff));border-radius:3px;opacity:1;-webkit-animation:slide-in;animation:slide-in;-webkit-animation-duration:1s;animation-duration:1s;-webkit-box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-ten,rgba(0,0,0,.1));box-shadow:0 2px 6px 2px var(--cwc-color-grayscale-black-alpha-ten,rgba(0,0,0,.1));-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;cursor:pointer}.cwc-chatbot__popup[dir=rtl]{-webkit-animation:slide-in-rtl;animation:slide-in-rtl}[dir=ltr] .cwc-chatbot__popup.responsive{right:32px}[dir=rtl] .cwc-chatbot__popup.responsive{left:32px}.cwc-chatbot__popup.responsive{inset-inline-end:32px}.cwc-chatbot__popup.hidden{-webkit-animation:fade-out;animation:fade-out;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;pointer-events:none}.cwc-chatbot__popup-name{color:var(--cwc-chatbot-popup-name-color,var(--cwc-color-ui-primary,#003876));font-size:.75rem;font-weight:700}[dir=ltr] .cwc-chatbot__popup-name:after{margin-left:.5rem}[dir=rtl] .cwc-chatbot__popup-name:after{margin-right:.5rem}[dir=ltr] .cwc-chatbot__popup-name:after{margin-right:1rem}[dir=rtl] .cwc-chatbot__popup-name:after{margin-left:1rem}.cwc-chatbot__popup-name:after{content:\\\"●\\\";max-height:8px;width:8px;color:var(--cwc-chatbot-popup-name-after-color,var(--cwc-color-status-success,#7ac943));border-radius:50%;margin-top:0;margin-bottom:0;margin-block:0;-webkit-margin-start:.5rem;margin-inline-start:.5rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.cwc-chatbot__popup-message{color:var(--cwc-chatbot-popup-message-color,var(--cwc-color-grayscale-dark,#333))}\\@-webkit-keyframes fade-out{to{opacity:0}}\\@keyframes fade-out{to{opacity:0}}\\@-webkit-keyframes slide-in{0%{-webkit-transform:translateX(80px);transform:translateX(80px);opacity:0}75%{-webkit-transform:translateX(80px);transform:translateX(80px);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}\\@keyframes slide-in{0%{-webkit-transform:translateX(80px);transform:translateX(80px);opacity:0}75%{-webkit-transform:translateX(80px);transform:translateX(80px);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}\\@-webkit-keyframes slide-in-rtl{0%{-webkit-transform:translateX(-80px);transform:translateX(-80px);opacity:0}75%{-webkit-transform:translateX(-80px);transform:translateX(-80px);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}\\@keyframes slide-in-rtl{0%{-webkit-transform:translateX(-80px);transform:translateX(-80px);opacity:0}75%{-webkit-transform:translateX(-80px);transform:translateX(-80px);opacity:0}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}\\@media (max-width:767px){#AgentAppContainer{opacity:1;pointer-events:all;-webkit-transition:opacity .1s ease;transition:opacity .1s ease}body.cwc-chatbot--closed #AgentAppContainer{opacity:0;pointer-events:none}}\";\n  }\n\n};\nexport { Chatbot as cwc_chatbot };","map":null,"metadata":{},"sourceType":"module"}